---
title: 搭建博客
data: 2024/4/12 00:00:00
description: 搭建博客时用到的资料和自己博客的配置
tags: 
	- hexo
	- Next
	- 博客
categories:
	- 学习记录
---

# 1 搭建个人博客
## 1.1 使用github搭建个人博客
![图片描述](images/搭建博客/1.jpg)
## 1.2 使用gitee搭建个人博客
## 1.3 butterfly基本使用
### 1.3.1 官方教程

![[Butterfly 安裝文檔(一) 快速開始 _ Butterfly (2024_4_10 13_15_01).html]]
![[Butterfly 安裝文檔(二) 主題頁面 _ Butterfly (2024_4_10 13_15_39).html]]
![[Butterfly 安裝文檔(三) 主題配置-1 _ Butterfly (2024_4_10 13_17_58).html]]
## 1.4 配置Next是用到的
### 1.4.0 快速配置
```
npm install hexo-deployer-git --save # hexo d时用到
npm install hexo-generator-searchdb --save # 搜索功能
npm install hexo-symbols-count-time --save # 阅读次数和阅读时间
npm install --save hexo-helper-live2d # 博客小人
git clone https://github.com/theme-next/theme-next-pace source/lib/pace # 页面加载效果
```
### 1.4.1 创建新页面
```
# 例如生成一个tags页面
hexo n page tags

# 会在source目录生成一个tags文件夹，里面有一个index.md文件，需要手动加一个type类型的键值对
---
title: 标签
date: 2024-04-09 22:08:17
type: "tags"
---

# 创建其他页面也是同样的不再
```
### 1.4.2 显示页面
```
# 例如显示1.4.1创建的tags页面

# 打开Next主题目录的_config.yml文件，搜索menu进行操作
menu:
  主页: / || fa fa-home
  # 关于: /about/ || fa fa-user
  标签: /tags/ || fa fa-tags
  分类: /categories/ || fa fa-th
  archives: /archives/ || fa fa-archive
  #schedule: /schedule/ || fa fa-calendar
  #sitemap: /sitemap.xml || fa fa-sitemap
  #commonweal: /404/ || fa fa-heartbeat
```
### 1.4.3 更改主题样式
```
# 在主题配置文件中搜索 scheme

# 个人使用
scheme: Gemini
```
### 1.4.4 更改头像
```
# 在主题配置文件中搜索 avatar
# 我一般使用本地头像，放到next/source/images中

# 例如
url: /images/avatar-1.gif
```
### 1.4.5 添加社交链接
```
# 在主题配置文件中搜索 social

# 个人配置
social:
  GitHub: https://github.com/jinsen711 || fab fa-github
  E-Mail: mailto:lijinsen1016@gmail.com || fa fa-envelope
```
### 1.4.6 添加友情链接
```
# 在主题配置文件中搜索 links

# 个人配置
links:
  bilibili: http://bilibili.com

```
### 1.4.7 新键一篇文章
```
# 会在/source/_posts目录下生成对应*.md文件
hexo n 文件名

# 这里面写的 tags categories是用于统计分类的，可以在/tags和/categories页面看的
---
title: 测试文章
date: 2024-04-10 22:24:01
tags:
    - 导航
    - 分享
categories:
    - 前端
---
```
### 1.4.8 让文章处于关闭状态
```
方法一：写概述
在文章的front-matter中添加description，其中description中的内容就会被显示在首页上，其余一律不显示。

---
title: 让首页显示部分内容
date: 2020-02-23 22:55:10
description: 这是显示在首页的概述，正文内容均会被隐藏。
---

比较不方便的是还得写一下概述，很多时候会懒得写概述，于是就需要第二种方法了。

方法二：文章截断
在需要截断的地方加入：

<!--more-->
1
首页就会显示这条以上的所有内容，隐藏接下来的所有内容。
例如本文会显示到修改配置上面。

这个明显就方便很多，但当然有利有弊，比如开头都是废话首页看着就不是很好看，因此我一般会先选择方法二，如果感觉文章前面的写的不太好再用方法一。
```
### 1.4.9 设置动态背景
```
# 在主题配置文件中搜索 canvas

# 有下面的这几种，不知道为什么我设置后没有效果
three:
  enable: false
  three_waves: false
  canvas_lines: false
  canvas_sphere: false
```
### 1.4.10 添加搜索功能
1. 安装 `hexo-generator-searchdb`，在站点的根目录下执行以下命令：
```
npm install hexo-generator-searchdb --save
```
2. 编辑 博客配置文件，新增以下内容到任意位置：
```
search:
	path: search.xml
	field: post
	format: html    
	limit: 10000
```
3. 编辑 主题配置文件，启用本地搜索功能：
```
# Local search
local_search:
  enable: true
```
### 1.4.11 添加访问数量统计功能
```
# 在主题配置文件搜索 busuanzi_count

# 个人配置
busuanzi_count:
  enable: true
  total_visitors: true
  total_visitors_icon: fa fa-user
  total_views: true
  total_views_icon: fa fa-eye
  post_views: true
  post_views_icon: fa fa-eye
```
### 1.4.12 隐藏底部hexo
打开`themes/next/layout/_partials/footer.swig`,使用`<!--`以及`-->`隐藏相关代码即可，或者直接删除
### 1.4.13 添加文字统计和阅读时长
```
# 安装
npm install hexo-symbols-count-time --save

# 在博客配置文件中添加
symbols_count_time:
  symbols: true
  time: true
  total_symbols: false # 关闭博客下面文字总数
  total_time: false # 关闭博客下面阅读时间数
  
# 在主题配置文件中搜索 symbols_count_time
symbols_count_time: 
	separated_meta: true 
	item_text_post: true 
	item_text_total: false 
```
### 1.4.14 右上角添加github图标
```
# 在主题配置文件搜索 github_banner

# 个人配置
github_banner:
  enable: true
  permalink: https://github.com/jinsen711
  title: 拜访我
```
### 1.4.15 添加文件阅读进度条
```
# 在主题配置文件搜索 reading_progress

# 个人配置
reading_progress:
  enable: true
  # Available values: top | bottom
  position: top
  color: '#37c6c0'
  height: 3px
```
### 1.4.16 给自己的博客添加小人
1. 安装live2d
`npm install --save hexo-helper-live2d`
2. 在博客配置页面添加配置文件
```
# 个人配置
live2d:
  enable: true
  # enable: false
  scriptFrom: local # 默认
  pluginRootPath: live2d_models/ # 插件在站点上的根目录(相对路径)
  pluginJsPath: lib/ # 脚本文件相对与插件根目录路径
  pluginModelPath: assets/ # 模型文件相对与插件根目录路径
  # scriptFrom: jsdelivr # jsdelivr CDN
  # scriptFrom: unpkg # unpkg CDN
  # scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url
  tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中
  debug: false # 调试, 是否在控制台输出日志
  model:
    use: live2d-widget-model-nito # npm-module package name   live2d-widget-model-shizuku
    # use: wanko # 博客根目录/live2d_models/ 下的目录名
    # use: ./wives/wanko # 相对于博客根目录的路径
    # use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url
    display:    # 模型展示的位置设置
        position: right     # 方位
        width: 150          # 宽度
        height: 300         # 高度
    mobile:
        show: false   # 在移动设备上是否开启live2d
```
3. 安装模型
`npm install npm install --save live2d-widget-model-xxx`
4. 使用模型
```
# 把模型放到自己在pluginRootPath指定的文件夹中
# 在第2步中的model成员中添加自己下载的模型，
model:
    use: live2d-widget  ## 模型文件
```
### 1.4.17 文件创建和更新时间
```
# 在主题配置文件中搜索 post_meta

# 个人配置
post_meta:
  item_text: true
  created_at: true
  updated_at:
    enable: true
    another_day: true
  categories: true
```
### 1.4.18 页面加载效果
```
# 在博客主目录下载
git clone https://github.com/theme-next/theme-next-pace source/lib/pace

# 在主题配置目录搜索 pace
# 个人配置
pace:
  enable: false
  # Themes list:
  # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple
  # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal
  theme: center-simple
```
### 1.4.19 隐藏底部信息

`在主题配置目录搜索 footer进行配置`
### 1.4.20 设置背景图片
1. _在blog/source/_data/中创建styles.styl文件_
```
# styles.styl文件中的个人配置
body {
    background:url(/images/background.jpg); // 这个的完整目录为 blog/themes/next/source/images/background.jpg
    background-repeat: no-repeat;
    background-attachment:fixed;
    background-size: cover;
    background-position:50% 50%;
}

//博客内容透明化
//文章内容的透明度设置
.content-wrap {
  opacity: 0.95;
}

//侧边框的透明度设置
.sidebar {
  opacity: 0.95;
}

//菜单栏的透明度设置
.header-inner {
  background: rgba(255,255,255,0.95);
}

//搜索框（local-search）的透明度设置
.popup {
  opacity: 0.95;
}
```
2. _在主题配置文件中搜索 custom_file_path_
```
# 个人配置
custom_file_path:
  style: source/_data/styles.styl
```
3. _背景图片放入blog/themes/next/source/images/中即可_
### 1.4.21 设置圆角
1. _在blog/source/_data/中创建variables.styl文件_
```
# variables.styl文件中的个人配置
// 圆角设置  
$border-radius-inner = 20px;  
$border-radius = 20px;
```
2. _在主题配置文件中搜索 custom_file_path_
```
# 个人配置
custom_file_path:
  variable: source/_data/variables.styl
```
**问题：边栏的圆角明显有一层阴影，圆角效果不明显**
_修改 /themes/next/source/css/_variables/Gemini.styl 内代码,将 $body-bg-color 赋值为透明 transparent_
```
// Variables of Gemini scheme  
// ==================================================  
  
@import "Pisces.styl";  
  
// Settings for some of the most global styles.  
// --------------------------------------------------  
// $body-bg-color           = #eee;  
$body-bg-color           = transparent;  
// Borders.  
// --------------------------------------------------  
$box-shadow-inner        = 0 2px 2px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .06), 0 1px 5px 0 rgba(0, 0, 0, .12);  
$box-shadow              = 0 2px 2px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .06), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 -1px .5px 0 rgba(0, 0, 0, .09);  
  
// $border-radius-inner     = 20px;  
// $border-radius           = 20px;  
  
$border-radius-inner     = initial;  
$border-radius           = initial;  
// $border-radius-inner     = 0 0 3px 3px;  
// $border-radius           = 3px;
```
### 1.4.22 书签功能
```
# 在主题配置页面搜索

# 个人配置
bookmark:
  enable: true
  # Customize the color of the bookmark.
  color: "#222"
  # If auto, save the reading progress when closing the page or clicking the bookmark-icon.
  # If manual, only save it by clicking the bookmark-icon.
  save: auto
```
### 1.4.23 优化网页
lazyload 是网站常用的技术，通过按需加载，避免一次性加载过多内容导致的打开缓慢
```
# 在主题配置页面搜索

# 个人配置
# Vanilla JavaScript plugin for lazyloading images.
# For more information: https://apoorv.pro/lozad.js/demo/
lazyload: true
```
### 1.4.24 点击图片放大
```
# 在主题页面搜索

# 个人配置
# FancyBox is a tool that offers a nice and elegant way to add zooming functionality for images.
# For more information: https://fancyapps.com/fancybox/
fancybox: true
```
### 1.4.25 优化文章内容
对于强迫症来说，中英文混排时加上空格能很大程度改善阅读体验，但是有时候会不小心打漏部分空格，而 [pangu](https://github.com/vinta/pangu.js) 这个项目就可以帮你在展示时自动加上空格
```
# 在主题页面搜索

# 个人配置
# Pangu Support
# For more information: https://github.com/vinta/pangu.js
# Server-side plugin: https://github.com/next-theme/hexo-pangu
pangu: true
```
### 1.4.26过渡动画
```
# 在主题配置页面搜索

# 个人配置
motion:
  enable: true
  async: true # 把这个改成了ture
  transition:
    # Transition variants:
    # fadeIn | flipXIn | flipYIn | flipBounceXIn | flipBounceYIn
    # swoopIn | whirlIn | shrinkIn | expandIn
    # bounceIn | bounceUpIn | bounceDownIn | bounceLeftIn | bounceRightIn
    # slideUpIn | slideDownIn | slideLeftIn | slideRightIn
    # slideUpBigIn | slideDownBigIn | slideLeftBigIn | slideRightBigIn
    # perspectiveUpIn | perspectiveDownIn | perspectiveLeftIn | perspectiveRightIn
    post_block: fadeIn
    post_header: slideDownIn
    post_body: slideDownIn
    coll_header: slideLeftIn
    # Only for Pisces | Gemini.
    sidebar: slideUpIn
```
### 1.4.27 添加gitalk评论
![[hexo主题next中gitalk配置与评论初始化 _ 代码构建你的世界 (2024_4_12 18_29_25).html]]